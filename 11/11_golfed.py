*I,=open("11/11.txt")
R=range
for q in 2,10**6:
 *G,D=0,
 for i in R(140):
  for j in R(140):
   if'.'>I[i][j]:D+=sum(sum(q**all(l[x]>'#'for l in I)for x in R(*sorted([a,j])))+sum(q**-~-('#'in I[y])for y in R(b,i))for a,b in G);G+=(j,i),
 print(D)