# Both Parts: 146 bytes
*I,=open("6/6.txt")
for i in'; ':a=1;[a:=a*int((a:=((t*t-4*d)**.5+t)//2)+a-t+1)for t,d in zip(*(map(int,l[9:].replace(i,'').split())for l in I))];print(a)